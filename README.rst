transmission
============

`Transmission <http://en.wikipedia.org/wiki/Transmission_%28BitTorrent_client%29>`_ is a BitTorrent client. This formula is intended for use with the ``transmission-daemon`` package, which is accessed through a web interface or a command-line interface.

.. note::

    See the full `Salt Formulas installation and usage instructions
    <http://docs.saltstack.com/topics/conventions/formulas.html>`_.

Available states
================

.. contents::
    :local:

``transmission``
----------------

Installs the ``transmission-daemon`` package.

``transmission.config``
-----------------------

Includes the ``transmission`` state.

Use this state to populate the ``settings.json`` file that the daemon reads settings from.

Configuration
=============

The ``settings.json`` file generated by the ``transmission.config`` state is created directly from the ``transmission_daemon_settings`` pillar key. Consult the Transmission wiki's page on the `config file <https://trac.transmissionbt.com/wiki/EditConfigFiles>`_ for a listing of all the available settings.

Please note that the daemon dumps all of its settings to the ``settings.json`` file every time it stops. When it writes the settings back, it writes a hash of the ``rpc-password`` instead of the unhashed value. In pillar, you can store either the unhashed password or the hashed password. If you have the unhashed password in pillar, the unhashed password is quickly hashed on the minion, so the unhashed value doesn't remain on the minion's file system for long.

Also, the settings that appear in the settings.json file change depending on the version of transmission packaged by each distro. The ``pillar.example`` was based on the default ``transmission-daemon`` config from Debian Wheezy (with some minor changes), and has some settings that aren't used by the daemon in the Fedora repos, and vice versa.

When you execute the ``transmission.config`` state, you will see that salt keeps on either removing or adding back certain lines in the file diff. This means that you should either remove the setting from pillar or add the setting to pillar, respectively.
